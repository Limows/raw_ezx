#############################################################################
# Makefile for building EzxGameLauncher for Another World using "raw" engine
# Generated by tmake at 19:07, 03-May-2021
# Edited by EXL at 07:57, 28-Jul-2022
#     Project: EzxGameLauncher
#    Template: app
#############################################################################

####### Compiler, tools and options

TARGET    = RawGameLauncher

CC        = arm-linux-gnu-gcc
CXX       = arm-linux-gnu-g++
STRIP     = arm-linux-gnu-strip
OPTIMIZ   = -O2 -mcpu=iwmmxt -mtune=iwmmxt
GENERAL   = -pipe -Wall -W -D_REENTRANT -DNO_DEBUG -DEZX_E6
CFLAGS    = $(GENERAL) $(OPTIMIZ)
CXXFLAGS  = $(GENERAL) $(OPTIMIZ) -fno-exceptions -fno-rtti -DQT_THREAD_SUPPORT -DQWS
INCPATH   = -I$(QTDIR)/include -I$(QTDIR)/include/qt -I$(EZXDIR)/include -I../src
LINK      = arm-linux-gnu-g++
LFLAGS    = -Wl,-rpath-link,$(QTDIR)/lib,-rpath-link,$(EZXDIR)/lib
LIBS      = $(SUBLIBS) -L$(QTDIR)/lib -lqte-mt -L$(EZXDIR)/lib -L$(EZXDIR)/lib/ezx/lib -lezxappbase
MOC       = $(QTDIR)/bin/moc
UIC       = $(QTDIR)/bin/uic

####### Files

SOURCES   = EzxGameLauncher.cpp
OBJECTS   = EzxGameLauncher.o
SRCMOC    = EzxGameLauncher.moc

####### Build rules

all: $(TARGET)

$(TARGET): $(OBJECTS) $(OBJMOC)
	$(LINK) $(LFLAGS) -o $(TARGET) $(OBJECTS) $(OBJMOC) $(LIBS)
	$(STRIP) -s $(TARGET)

moc: $(SRCMOC)

clean:
	-rm -f $(OBJECTS) $(OBJMOC) $(SRCMOC) $(TARGET) core

####### Compile

EzxGameLauncher.o: EzxGameLauncher.cpp EzxGameLauncher.moc
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

EzxGameLauncher.moc: EzxGameLauncher.cpp
	$(MOC) EzxGameLauncher.cpp -o EzxGameLauncher.moc
